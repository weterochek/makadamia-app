<!DOCTYPE html>
<html lang="ru">
<link rel="apple-touch-icon" sizes="180x180" href="images/орех180.png"> 
<link rel="icon" sizes="32x32" href="images/орех32.png" type="image/png"> 
<link rel="icon" sizes="16x16" href="images/орех16.png" type="image/png"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Национальные Блюда</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <!-- Header -->
    <header>
        <nav>
            <div class="navbar-center">
                <a href="index.html"><img src="images/logo.png" alt="Logo" class="navbar-logo"></a>
            </div>
        </nav>
    </header>

        <div class="menu-header">
        <h1 class="subtitle">Кухни Мира</h1>
        <section class="popular-banner">
  <div class="banner-box">
    <div class="slider-wrapper">
    <div class="banner-slider" id="bannerSlider">
      <div class="slide">
        <a href="French national cuisine.html">
          <img src="images/-1.png" alt="Блюдо 2">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
      <div class="slide">
          <a href="Russian national cuisine.html">
          <img src="images/-2.png" alt="Блюдо 1">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
      <div class="slide">
        <a href="Georgian national cuisine.html">
          <img src="images/-3.png" alt="Блюдо 3">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
            <div class="slide">
        <a href="Japan national cuisine.html">
          <img src="images/-4.png" alt="Блюдо 3">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
            <div class="slide">
        <a href="Japan national cuisine.html">
          <img src="images/-5.png" alt="Блюдо 3">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
            <div class="slide">
        <a href="Japan national cuisine.html">
          <img src="images/-6.png" alt="Блюдо 3">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
            <div class="slide">
        <a href="Georgian national cuisine.html">
          <img src="images/-7.png" alt="Блюдо 3">
          <div class="banner-overlay"></div>
          <div class="banner-title">Популярные блюда</div>
        </a>
      </div>
      </div>
    </div>
  </div>

  <div class="banner-dots" id="bannerDots"></div>
</section>


        <p class="subtitlee">
        Откройте для себя вкус национальных блюд и погрузитесь в мир аутентичных вкусов и ароматов
    </p>
        </div>
        <section class="dishes-grid">
            <div class="dish-card">
                
                    <a href="Russian national cuisine.html"><img src="images/Без-имени-1.webp" alt="Блюдо 1">
                    <div class="text2"> Русская<br>   кухня</div>
                    <div class="text-overlay">
                    </div>
            </div></a>
                
            <div class="dish-card">
                <div class="container">
				<div class="base-overlay"></div>
                    <a href="French national cuisine.html"><img src="images/Без-имени-2.webp" alt="Блюдо 2">
		<div class="text2">Французская<br>      кухня</div>
                    <div class="text-overlay">
                    </div>
					
                </div>
            </div></a>
            <div class="dish-card">
                <div class="container">
				<div class="base-overlay"></div>
                    <a href="Spain national cuisine.html"><img src="images/Без-имени-3.webp" alt="Блюдо 3">
                        <div class="text2">Испанская<br>    кухня</div>
                    <div class="text-overlay">
                    </div>
					
                </div>
            </div></a>
            <div class="dish-card">
		         <div class="container">
				<div class="base-overlay"></div>
                    <a href="Georgian national cuisine.html"><img src="images/Без-имени-4.webp" alt="Блюдо 4">
			    <div class="text2">Грузинская<br>     кухня</div>
                    <div class="text-overlay">

                    </div>
					
                </div>
            </div></a>
            <div class="dish-card">
		         <div class="container">
				<div class="base-overlay"></div>
                    <a href="Italy national cuisine.html"><img src="images/Без-имени-5.webp" alt="Блюдо 4">
			    <div class="text2">Итальянская<br>     кухня</div>
                    <div class="text-overlay">

                    </div>
					
                </div>
            </div></a>
            <div class="dish-card">
		    	<div class="container">
				<div class="base-overlay"></div>
                    <a href="Japan national cuisine.html"><img src="images/Без-имени-6.webp" alt="Блюдо 6">
		    <div class="text2">Японская<br>   кухня</div>
                    <div class="text-overlay">
                    </div>
					
                </div>
                </div>
            </div></a>
            <!-- Добавьте дополнительные карточки блюд здесь -->
        </section>

    
<!-- Всплывающее окно корзины -->


    <!-- Footer -->
    <footer>
        <div class="footer-links">
            <div class="footer-item">
                <h3>Политика конфиденциальности</h3>
                <p>Национальные Блюда © 2025</p>
                <h3>Контакты</h3>
                <p>Телефон: +7 (xxx) xxx-xx-xx</p>
                <p>Email: ssajt431@gmail.com</p>
            </div>
        </div>
    </footer>
    <script src="script.js"></script>
    <script>
document.addEventListener("DOMContentLoaded", () => {
  const slider = document.getElementById("bannerSlider");
  const slides = slider.querySelectorAll(".slide");
  const dotsContainer = document.getElementById("bannerDots");
  let isAnimating = false; // Флаг для отслеживания анимации
  let currentSlide = 1;

  // Клонируем первый и последний слайды для бесконечного эффекта
  const firstClone = slides[0].cloneNode(true);
  const lastClone = slides[slides.length - 1].cloneNode(true);
  
  slider.appendChild(firstClone);
  slider.insertBefore(lastClone, slides[0]);

  const allSlides = slider.querySelectorAll(".slide");
  const slideCount = slides.length; // Количество оригинальных слайдов

  // Устанавливаем ширину слайдов
  allSlides.forEach(slide => {
    slide.style.flex = '0 0 100%';
  });
  setTimeout(() => {
  slider.style.transition = 'none';
  currentSlide = 1;
  slider.style.transform = `translateX(-100%)`;
}, 0);


  // Создание индикаторов
  for (let i = 0; i < slideCount; i++) {
    const dot = document.createElement("div");
    dot.classList.add("dot");
    if (i === 0) dot.classList.add("active");
    dot.addEventListener("click", () => !isAnimating && goToSlide(i));
    dotsContainer.appendChild(dot);
  }

  const dots = dotsContainer.querySelectorAll(".dot");

function goToSlide(index) {
  if (isAnimating) return;
  isAnimating = true;

  slider.style.transition = 'transform 0.6s ease-in-out';
  currentSlide = index;
  slider.style.transform = `translateX(${-currentSlide * 100}%)`;

  // Обновляем индикаторы, учитывая сдвиг на 1
  updateDots((currentSlide - 1 + slideCount) % slideCount);
}


  function updateDots(activeIndex) {
    dots.forEach((dot, i) => {
      dot.classList.toggle("active", i === activeIndex);
    });
  }

  // Обработка завершения анимации
slider.addEventListener('transitionend', () => {
  isAnimating = false;

  if (currentSlide === 0) {
    slider.style.transition = 'none';
    currentSlide = slideCount;
    slider.style.transform = `translateX(${-currentSlide * 100}%)`;
  } else if (currentSlide === slideCount + 1) {
    slider.style.transition = 'none';
    currentSlide = 1;
    slider.style.transform = `translateX(${-currentSlide * 100}%)`;
  }
});


  // Автопрокрутка
let autoSlideInterval = null;

function startAutoSlide() {
  if (autoSlideInterval) clearInterval(autoSlideInterval);
  autoSlideInterval = setInterval(() => {
    if (!isAnimating) {
      goToSlide(currentSlide + 1);
    }
  }, 6000);
}

startAutoSlide(); // запуск при загрузке

function resetAutoSlide() {
  startAutoSlide(); // просто перезапускаем
}


  // Свайп
  let startX = 0;
  let isDragging = false;

  const wrapper = document.querySelector(".slider-wrapper");

  wrapper.addEventListener("touchstart", (e) => {
    if (isAnimating) return;
    startX = e.touches[0].clientX;
    isDragging = true;
    slider.style.transition = 'none';
  });

  wrapper.addEventListener("touchmove", (e) => {
    if (!isDragging || isAnimating) return;
    const currentX = e.touches[0].clientX;
    const deltaX = currentX - startX;
    const offset = -currentSlide * 100 + (deltaX / wrapper.offsetWidth) * 100;
    slider.style.transform = `translateX(${offset}%)`;
  });

  wrapper.addEventListener("touchend", (e) => {
    if (!isDragging || isAnimating) return;
    isDragging = false;
    
    const endX = e.changedTouches[0].clientX;
    const deltaX = endX - startX;

if (Math.abs(deltaX) > 50) {
  if (deltaX < 0) {
    goToSlide(currentSlide + 1);
  } else {
    goToSlide(currentSlide - 1);
  }
    } else {
      // Возвращаемся к текущему слайду если свайп был маленьким
      slider.style.transition = 'transform 0.3s ease-in-out';
      slider.style.transform = `translateX(${-currentSlide * 100}%)`;
    }
    
    resetAutoSlide();
  });

  // Инициализация
  setTimeout(() => {
    slider.style.transform = `translateX(${-1 * 100}%)`; // Начинаем с первого оригинального слайда
  }, 0);
});
</script>

 

<nav class="bottom-nav">
  <a href="index.html" class="nav-item">
    <img id="homeIcon" src="images/free-icon-home-1946488.png" alt="Главная" />
    <span>Главная</span>
  </a>
  <a href="Review.html" class="nav-item">
    <img id="reviewsIcon" src="images/free-icon-good-feedback-3594679.png" alt="Отзывы" />
    <span>Отзывы</span>
  </a>
  <a href="#" class="nav-item" id="cartButton">
    <img id="cartIcon" src="images/free-icon-basket-7087821.png" alt="Корзина" />
    <span>Корзина</span>
  </a>
  <a href="#" class="nav-item" id="authButton" onclick="handleAuthClick()">
    <img id="authIcon" src="images/free-icon-avatar-6386976.png" alt="Вход" />
    <span>Вход</span>
  </a>

  <a href="#" class="nav-item" id="cabinetButton" onclick="openCabinet()" style="display: none;">
    <img id="cabinetIcon" src="images/free-icon-avatar-6386976.png" alt="Кабинет" />
    <span>Кабинет</span>
  </a>

</nav>

<div id="cartDropdown" class="cart-dropdown">
  <h3>Ваша Корзина</h3>
  <div id="cartItems"></div>
  <p id="totalAmount"></p>
  <button onclick="goToCheckoutPage()">К Оформлению заказа</button>
  <button id="clear-cart" class="clear-cart">Очистить корзину</button>
</div>
</body>
</html>
